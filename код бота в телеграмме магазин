from telegram import Update, ReplyKeyboardMarkup
from telegram.ext import Application, CommandHandler, MessageHandler, filters, ContextTypes

TOKEN = "7754017118:AAF8inVsWtgjR46_J7GVVhgL6IcjMurVnpI"  # Ğ—Ğ°Ğ¼ĞµĞ½Ğ¸ Ğ½Ğ° ÑĞ²Ğ¾Ğ¹!

# Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ°
SHOP_INFO = {
    "name": "ğŸ”¥ Es computers",
    "address": "Ğ³.ĞšÑƒÑ€ÑĞº ÑĞ»ĞµĞ²Ğ°Ñ‚Ğ¾Ñ€Ğ½Ñ‹Ğ¹ Ğ¿ĞµÑ€ĞµÑƒĞ»Ğ¾Ğº 2",
    "phone": "+7 904 524 69 68",
    "website": "",
    "work_time": "ğŸ•’ ĞŸĞ½-ĞŸÑ‚: 10:00-19:00, Ğ¡Ğ±-Ğ’Ñ: 11:00-17:00",
    "categories": ["ğŸ’» ĞĞ¾ÑƒÑ‚Ğ±ÑƒĞºĞ¸", "ğŸ–¥ï¸ ĞšĞ¾Ğ¼Ğ¿ÑŒÑÑ‚ĞµÑ€Ñ‹", "ğŸ“± Ğ“Ğ°Ğ´Ğ¶ĞµÑ‚Ñ‹", "ğŸ§ ĞĞºÑĞµÑÑÑƒĞ°Ñ€Ñ‹"]
}


async def start(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    keyboard = [
        ["ğŸ“ ĞĞ´Ñ€ĞµÑ", "ğŸ“ ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹"],
        ["ğŸ•’ Ğ“Ñ€Ğ°Ñ„Ğ¸Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹", "ğŸ›’ Ğ¢Ğ¾Ğ²Ğ°Ñ€Ñ‹"],
    ]
    reply_markup = ReplyKeyboardMarkup(keyboard, resize_keyboard=True)

    await update.message.reply_text(
        f"Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² <b>{SHOP_INFO['name']}</b>!\n"
        "Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ½ÑƒĞ¶Ğ½ÑƒÑ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ:",
        reply_markup=reply_markup,
        parse_mode="HTML"
    )


async def handle_message(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    text = update.message.text

    if text == "ğŸ“ ĞĞ´Ñ€ĞµÑ":
        await update.message.reply_text(f"ğŸ¬ <b>ĞĞ°Ñˆ Ğ°Ğ´Ñ€ĞµÑ:</b>\n{SHOP_INFO['address']}", parse_mode="HTML")

    elif text == "ğŸ“ ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹":
        await update.message.reply_text(
            f"ğŸ“± <b>Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½:</b> {SHOP_INFO['phone']}\n"
            f"ğŸŒ <b>Ğ¡Ğ°Ğ¹Ñ‚:</b> {SHOP_INFO['website']}",
            parse_mode="HTML"
        )

    elif text == "ğŸ•’ Ğ“Ñ€Ğ°Ñ„Ğ¸Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹":
        await update.message.reply_text(f"â³ <b>ĞœÑ‹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµĞ¼:</b>\n{SHOP_INFO['work_time']}", parse_mode="HTML")

    elif text == "ğŸ›’ Ğ¢Ğ¾Ğ²Ğ°Ñ€Ñ‹":
        categories = "\n".join(SHOP_INFO["categories"])
        await update.message.reply_text(f"ğŸ“¦ <b>ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ²:</b>\n{categories}", parse_mode="HTML")


def main() -> None:
    app = Application.builder().token(TOKEN).build()  # Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Application Ğ²Ğ¼ĞµÑÑ‚Ğ¾ Updater

    app.add_handler(CommandHandler("start", start))
    app.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, handle_message))

    app.run_polling()  # Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ±Ğ¾Ñ‚Ğ°


if __name__ == "__main__":
    main()
